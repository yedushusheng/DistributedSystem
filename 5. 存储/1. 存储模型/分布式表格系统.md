# 概述

分布式键值模型可以看成是分布式表格模型的一种特例。然而，由于它只支持针对单个key-value的增删改查操作，因此适用于哈希分布算法。

Amazon Dynamo是分布式键值系统，最初用于支持购物车应用。Dynamo将很多分布式技术融合到一个系统内，学习Dynamo的设计对于理解分布式系统的理论很有帮助。当然，这个系统的主要价值在于学术层面，从工程的角度看，Dynamo牺牲了一致性，却没有换来什么好处，不适合直接模仿。

Tair是淘宝网开发的分布式键值系统，它借鉴了Dynamo系统的一些设计思想并做了一些创新，其中最大的变化就是从P2P架构修改为带有中心节点的架构，这种思路在大方向上是正确的。

# 分类

分布式键值系统主要有：Dynamo、Cassendra、Tair、Redis、ETCD等。

## Dynamo

Dynamo以很简答的键值方式存储数据，不支持复杂的查询。Dynamo中存储的是数据值的原始形式，不解析数据的具体内容。Dynamo主要用于Amazon的购物车及S3云存储服务。

Dynamo通过组合P2P的各种技术打造了线上可运行的分布式键值系统，Dynamo设计时面临的问题以及最终采取的结局方案：

![img](file:///C:\Users\大力\AppData\Local\Temp\ksohtml\wps628C.tmp.jpg) 

 

### **数据分布**

Dynamo系统采用一致性哈希算法将数据分布到多个存储节点。

### **一致性与复制**

### **容错**

### **负载均衡**

### **读写流程**

### **单机实现**

### **讨论**

## Tair

Tair是淘宝开发的一个分布式键值存储引擎。Tair分为持久化和非持久化两种使用方式：非持久化的Tair可以看成是一个分布式缓存，持久化的Tair将数据存放于磁盘中。为了解决磁盘损坏导致数据丢失，Tair可以配置数据的备份书目，Tair自动将一份数据的不同备份放到不同的节点上，当有节点发生异常，无法正常提供服务的时候，其余的节点会继续提供服务。

 

### **系统架构**

### **关键问题**

### **讨论**